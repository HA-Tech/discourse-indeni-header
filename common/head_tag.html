<script type="text/discourse-plugin" version="0.2">
var RawHtml = require('discourse/widgets/raw-html').default;

api.decorateWidget('header-icons:before', helper => {
    const string = '<div id="indeni-header"><div id="header"><a id="nav_btn"><span>Toggle Menu</span></a><nav id="nav" class="toggle box"><div class="wrap box"><ul class="menu box"><li id="menu-item-13912" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children equal_ul"><a href="http://offers.indeni.com/get-paid-to-write?utm_campaign=1808%20discourse%20homepage&utm_medium=forum&utm_source=community&utm_content=paid_to_write" class="parent-0">Contribute</a></li><li id="menu-item-6" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children equal_ul"><a href="http://learning.indeni.com/?utm_campaign=1808%20discourse%20homepage&utm_medium=forum&utm_source=community&utm_content=community" class="parent-0">Learning Path</a></li><li id="menu-item-13925" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children equal_ul"><a href="http://indeni.com/alerts?utm_campaign=1808%20discourse%20homepage&utm_medium=forum&utm_source=community&utm_content=alerts" class="parent-0">Alerts</a></li><li id="menu-item-8" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children equal_ul"><a href="http://offers.indeni.com/download-indeni?utm_campaign=1808%20discourse%20homepage&utm_medium=forum&utm_source=community&utm_content=download_indeni" class="parent-0">Try Indeni</a></li></ul></div></nav></div></div>';  
    return new RawHtml({ html: string });
})
</script>
<script type="text/discourse-plugin" version="0.8.18">
    $(function(){
       $('#nav_btn').click(function(e){
           $('#nav_btn').toggleClass('active');
           $('#indeni-header').toggleClass('open');
           $('#nav').toggleClass('toggle');
       })
       $('.dropdown_btn').bind('click', function(e) {
            var clickedbtn = $(this);
            if ($(this).next().is(':visible')) {
                $(this).removeClass('active').next().slideUp('fast', 'swing');
            }
            if ($(this).next().is(':hidden')) {
                if ($('ul.menu .active').next().is(':visible')) {
                    $('ul.menu .active').next().slideUp('fast', 'swing', function() {
                        $('ul.menu .active').removeClass('active');
                        $(clickedbtn).toggleClass('active').next().slideDown('fast', 'swing');
                    });
                } else {
                    $(this).toggleClass('active').next().slideDown('fast', 'swing');
                }
            }
            e.preventDefault();
        });
    })
</script>